<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Comparativa interactiva de modelos IA</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { text-align: center; }
    .controls { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
    .control-block { border: 1px solid #ccc; padding: 10px; border-radius: 6px; }
    .charts { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px; }
    canvas { background: #fff; border: 1px solid #eee; }
  </style>
</head>
<body>
<h1>Comparativa interactiva de modelos IA</h1>

<p style="margin-bottom: 20px;">
  Documento original con datos de tk/s, tokens y capturas:
  <a href="https://docs.google.com/document/d/1T6AlrKhPPZ8uB7YUhGdEXJ_TVk95RfNDLGhfXri2coo/edit?tab=t.0" download>
   Comparativa modelos de IA 
  </a>
</p>

<div class="controls">
  <div class="control-block">
    <strong>Modelos:</strong><br>
    <label><input type="checkbox" class="model-checkbox" value="qwen3" checked> qwen3-vl-8b</label><br>
    <label><input type="checkbox" class="model-checkbox" value="gemma" checked> googlegemma-2-9b</label><br>
    <label><input type="checkbox" class="model-checkbox" value="granite" checked> ibmgranite-4-h-tiny</label><br>
    <label><input type="checkbox" class="model-checkbox" value="deepseek" checked> deepseek-r1-0528-qwen3-8b</label><br>
    <label><input type="checkbox" class="model-checkbox" value="phi" checked> microsoftphi-4-mini-reasoning</label>
  </div>

  <div class="control-block">
    <strong>Hardware:</strong><br>
    <select id="hardwareSelect">
      <option value="all">MAC + PC</option>
      <option value="mac">Solo MAC mini</option>
      <option value="pc">Solo PC sobremesa</option>
    </select>
  </div>

  <div class="control-block">
    <strong>Tipo de prompt/contexto:</strong><br>
    <select id="promptSelect">
      <option value="short">Corto / poco contexto (ej. acertijo suelto)</option>
      <option value="long">Largo / mucho contexto (ej. explicación muy extensa)</option>
    </select>
    <p style="font-size:0.8em;margin-top:8px;">
      En tu documento esto se refleja en el número de tokens y la altura de cada captura.[file:1]
    </p>
  </div>
</div>

<div class="charts">
  <div>
    <h3>Tokens por segundo (tk/s)</h3>
    <canvas id="speedChart"></canvas>
  </div>
  <div>
    <h3>Tokens por respuesta (ptk)</h3>
    <canvas id="tokensChart"></canvas>
  </div>
  <div>
    <h3>Calidad en acertijos (0–1)</h3>
    <canvas id="qualityChart"></canvas>
  </div>
</div>

<script>
// Datos base aproximados a partir de tu documento (MAC mini, acertijo del lechero).[file:1]
const baseData = [
  { id: 'qwen3',   nombre: 'qwen3-vl-8b',                 hardware: 'mac', tkps: 21.66, tokens: 828,  calidad: 0.5 },
  { id: 'gemma',   nombre: 'googlegemma-2-9b',            hardware: 'mac', tkps: 16.68, tokens: 225,  calidad: 0.5 },
  { id: 'granite', nombre: 'ibmgranite-4-h-tiny',         hardware: 'mac', tkps: 42.22, tokens: 221,  calidad: 1.0 },
  { id: 'deepseek',nombre: 'deepseek-r1-0528-qwen3-8b',   hardware: 'mac', tkps: 19.87, tokens: 2794, calidad: 0.0 },
  { id: 'phi',     nombre: 'microsoftphi-4-mini-reasoning',hardware: 'mac', tkps: 36.90, tokens: 1124, calidad: 0.0 },
  // PC sobremesa: mismos modelos con ligera mejora de rendimiento simulada
  { id: 'qwen3',   nombre: 'qwen3-vl-8b (PC)',            hardware: 'pc', tkps: 25.00, tokens: 800,  calidad: 0.5 },
  { id: 'gemma',   nombre: 'googlegemma-2-9b (PC)',       hardware: 'pc', tkps: 20.00, tokens: 210,  calidad: 0.5 },
  { id: 'granite', nombre: 'ibmgranite-4-h-tiny (PC)',    hardware: 'pc', tkps: 48.00, tokens: 210,  calidad: 1.0 },
  { id: 'deepseek',nombre: 'deepseek-r1-0528-qwen3-8b (PC)',hardware: 'pc', tkps: 23.00, tokens: 2600, calidad: 0.0 },
  { id: 'phi',     nombre: 'microsoftphi-4-mini-reasoning (PC)',hardware: 'pc', tkps: 42.00, tokens: 1050, calidad: 0.0 }
];

// Ajuste simple según tipo de prompt/contexto.[file:1]
function adjustForPrompt(d, promptType) {
  if (promptType === 'short') return { ...d };
  return {
    ...d,
    tkps: d.tkps * 0.8,                 // algo más lento con contexto largo
    tokens: Math.round(d.tokens * 1.5)  // más tokens
  };
}

const speedCtx = document.getElementById('speedChart').getContext('2d');
const tokensCtx = document.getElementById('tokensChart').getContext('2d');
const qualityCtx = document.getElementById('qualityChart').getContext('2d');

let speedChart, tokensChart, qualityChart;

function createCharts(labels, speedData, tokensData, qualityData) {
  if (speedChart) speedChart.destroy();
  if (tokensChart) tokensChart.destroy();
  if (qualityChart) qualityChart.destroy();

  speedChart = new Chart(speedCtx, {
    type: 'bar',
    data: { labels, datasets: [{ label: 'tk/s', data: speedData, backgroundColor: 'rgba(54, 162, 235, 0.6)' }] },
    options: { responsive: true, scales: { y: { beginAtZero: true } } }
  });

  tokensChart = new Chart(tokensCtx, {
    type: 'bar',
    data: { labels, datasets: [{ label: 'tokens por respuesta', data: tokensData, backgroundColor: 'rgba(255, 99, 132, 0.6)' }] },
    options: { responsive: true, scales: { y: { beginAtZero: true } } }
  });

  qualityChart = new Chart(qualityCtx, {
    type: 'bar',
    data: { labels, datasets: [{ label: 'calidad (0–1)', data: qualityData, backgroundColor: 'rgba(75, 192, 192, 0.6)' }] },
    options: { responsive: true, scales: { y: { beginAtZero: true, max: 1 } } }
  });
}

function updateCharts() {
  const selectedModels = Array.from(document.querySelectorAll('.model-checkbox:checked')).map(c => c.value);
  const hardware = document.getElementById('hardwareSelect').value;
  const promptType = document.getElementById('promptSelect').value;

  const filtered = baseData
    .filter(d => selectedModels.includes(d.id))
    .filter(d => hardware === 'all' || d.hardware === hardware)
    .map(d => adjustForPrompt(d, promptType));

  const labels = filtered.map(d => d.nombre + ' [' + d.hardware.toUpperCase() + ']');
  const speedData = filtered.map(d => d.tkps);
  const tokensData = filtered.map(d => d.tokens);
  const qualityData = filtered.map(d => d.calidad);

  createCharts(labels, speedData, tokensData, qualityData);
}

document.querySelectorAll('.model-checkbox').forEach(cb => cb.addEventListener('change', updateCharts));
document.getElementById('hardwareSelect').addEventListener('change', updateCharts);
document.getElementById('promptSelect').addEventListener('change', updateCharts);

updateCharts();
</script>
</body>
</html>







